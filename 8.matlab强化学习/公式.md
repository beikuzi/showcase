**1.温度传感器：温度转化成电阻T2Rt**

使用pt100温度传感器，可以测量-200到850度。对于电阻和温度的换算公式，近似成如下
$$
Rt=R_0[1+AT+BT^2]\\
其中\\
R_0=100Ω\\
A=3.9083e{-3}\\
B=-5.775e{-7}\\
$$

**2.电桥：电阻转化成电压模块Rt2U**

平衡电桥：在AC端施加电压，然后在BD端测量电压，根据下式，若R1R4=R2R3，那么测得电压为0
$$
U_{BD}=U_{BA}-U_{AD}=\frac{R_1}{R_1+R_2}U_S-\frac{R_3}{R_3+R_4}U_S=U_S\frac{R_1R_4-R_2R_3}{(R_1+R_2)*(R_3+R_4)}
$$
若$U_S$为5v，初始平衡，R=$R_0$为100欧姆，有
$$
\frac{5*((100Rt)-10000)}{40000}=\frac{5(Rt-100)}{400}=\frac{(Rt-100)}{80}
$$



**3.ADC转换器：模拟量转数字量U2T**

当为100度时，电阻大约为139，转化出来的电压达不到0.5

（结合现实ADC转换器，这里可以考虑调整电源电压Us，或者将该电压放大10倍，即电压范围变成0~5，仿真中选择后者）

理论上，每变化0.1度，

$$
电阻Rt大约变化:R_0*0.1*A=0.039083\\
电压大约变化：\frac{0.039083}{80}=0.000488538\\
因此理论上，我们选择12位，\frac{0.5}{4096}=0.00012207
$$
即可满足条件，在这里选择16位

假设转化出来的最大数字量为$D_{max}$，那么将输出数字量*100/$D_{max}$就可以设定成0~100,这里测出来$D_{max}$=6.309e4


$$
谈到越接近0越大，第一个想到的函数就是反比例函数：\frac{1}{|△T|}\\
然后考虑到可能△T=0无穷大，因此改成\frac{1}{|△T|+0.001}\\
当|△T|=0时，得到最大奖励1000，当|△T|>1时，即偏差1度，此时奖励<1\\
这样就能保证让强化学习，非常积极的反复越过0点来获取最大奖励\\
然后，为了给他引入惩罚（虽然并不知道有多少效果），再修改成\frac{1}{|△T|+0.001}-1\\
这样当他偏差>1度就会收到惩罚
$$

